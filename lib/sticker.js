!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.mui=t():e.mui=t()}(window,(function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=27)}({0:function(e,t,i){"use strict";function s(e,t,i,s,n,r,a,o){var d,h="function"==typeof e?e.options:e;if(t&&(h.render=t,h.staticRenderFns=i,h._compiled=!0),s&&(h.functional=!0),r&&(h._scopeId="data-v-"+r),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},h._ssrRegister=d):n&&(d=o?function(){n.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:n),d)if(h.functional){h._injectStyles=d;var l=h.render;h.render=function(e,t){return d.call(t),l(e,t)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,d):[d]}return{exports:e,options:h}}i.d(t,"a",(function(){return s}))},27:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vue-sticker__wrapper",class:e.className+e.prefix+"wrapper",style:e.wrapper,attrs:{tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.autoAction.apply(null,arguments)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableMove,expression:"!disableMove"}],ref:"invisible",staticClass:"vue-sticker__invisible",style:e.invisible}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableRotate,expression:"!disableRotate"}],ref:"invisibleRotate",staticClass:"vue-sticker__invisible"}),e._v(" "),i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showInner,expression:"showInner"}],staticClass:"vue-sticker__inner",style:e.stylesInner},[i("div",{style:e.backPicture},[i("div",{staticClass:"sticker__overflow",style:e.innerImageOverflow},[i("div",{staticClass:"vue-sticker__inner",class:e.className+e.prefix+"backside-image",style:e.clip})])])]),e._v(" "),i("div",{style:e.mainStyle},[i("div",{style:e.stayWrapper},[i("div",{class:e.className+e.prefix+"main-image",style:e.mainPicture})])])])])};let n,r;s._withStripped=!0;var a={name:"els-sticker",props:{d:{type:Number,required:!0},className:{type:String,default:"vue-sticker"},prefix:{type:String,default:"__"},end:{type:[Number,Boolean],default:!0,validator:function(e){return!!e&&e>0}},offset:{type:Number,default:50},deg:{type:Number},tipAnimation:{type:Boolean,default:!1}},data:()=>({distance:0,disableRotate:!1,disableMove:!1,degree:0,showInner:!1}),created(){this.tipAnimation&&(n=window.setInterval(this.showHelper,3e3))},mounted(){["mousemove","mouseleave","mousedown","mouseup"].map(e=>{this.$refs.invisible.addEventListener(e,e=>this.movingHandler(e))}),["mousemove","touchmove","touchend"].map(e=>{this.$refs.invisibleRotate.addEventListener(e,e=>this.calcRotate(e))},{passive:!0}),this.$refs.invisibleRotate.addEventListener("mousedown",()=>{this.disableRotate=!0})},methods:{calcRotate(e){"touchmove"===e.type?(this.degree=180,r=e.target.getBoundingClientRect(),this.distance=e.targetTouches[0].pageY-r.top,this.showInner=!0):this.disableRotate||(this.degree=180*Math.atan2(e.offsetX-this.d/2,e.offsetY-this.d/2)/Math.PI),"touchend"===e.type&&this.animation()},movingHandler(e){switch(window.clearInterval(n),(!this.endPoint||e.offsetY<this.endPoint)&&"mouseleave"!==e.type&&(this.distance=e.offsetY,this.$emit("getPercent",this.distance/this.d)),e.type){case"mouseup":case"mouseleave":this.animation();break;case"mousemove":this.showInner=!0}},animation(e,t){let i=window.setInterval((s=>{if(this.distance>0&&this.distance<this.d||e){let i=t||this.endPoint||this.d;this.distance>=i&&(e=!1),e?this.distance+=s:this.distance-=s,this.disableRotate=!0,this.disableMove=!0,this.$emit("getPercent",this.distance/this.d)}else window.clearInterval(i),this.disableRotate=!1,this.disableMove=!1,this.showInner=!1,this.distance=0,this.$emit("getPercent",this.distance/this.d)}).bind(this,1),5)},autoAction(){this.degree=this.deg||180,this.showInner=!0,this.animation(1)},showHelper(){this.degree=this.deg||180,this.distance=0,this.showInner=!0,this.animation(1,50)}},computed:{endPoint(){return this.end>1&&this.end<this.d&&this.end},wrapper(){return{width:this.d+"px",height:this.d+"px",borderRadius:"50%",position:"relative"}},invisible(){return{transform:`rotateZ(${-this.degree-180}deg)`}},mainStyle(){let e=this.showInner?this.d-this.distance+"px":this.d+"px";return{width:this.d+"px",height:e,transformOrigin:`${this.d/2}px ${this.d/2}px`,transform:`rotateZ(${-this.degree}deg)`,overflow:"hidden"}},stayWrapper(){return{transform:`translateY(0) rotateZ(${this.degree}deg)`}},stylesInner(){return{width:this.d+"px",height:this.d+"px",top:0,left:0,zIndex:1,transformOrigin:`${this.d/2}px ${1.5*this.d}px`,transform:`translateY(${-this.d}px) rotateZ(${-this.degree-180}deg)`}},mainPicture(){return{width:this.d+"px",height:this.d+"px",transform:"translateY(0)",borderRadius:"50%"}},clip(){return{width:this.d+"px",height:this.d+"px",borderRadius:"50%",transform:`rotateY(180deg) rotateZ(${this.degree-180}deg)`}},backPicture(){return{height:this.d+"px",transform:`translateY(${2*this.distance}px)`}},innerImageOverflow(){return{height:this.showInner?this.distance+"px":this.d+"px",transformOrigin:`${this.d/2}px ${this.d/2}px`,overflow:"hidden",transform:"rotateZ(180deg)"}}}},o=i(0),d=Object(o.a)(a,s,[],!1,null,null,null);d.options.__file="packages/lib/sticker/src/main.vue";var h=d.exports;h.install=function(e){e.component(h.name,h)};t.default=h}})}));