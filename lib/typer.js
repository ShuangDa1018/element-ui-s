!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mui=e():t.mui=e()}(window,(function(){return function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=18)}({0:function(t,e,s){"use strict";function r(t,e,s,r,i,n,a,o){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=s,h._compiled=!0),r&&(h.functional=!0),n&&(h._scopeId="data-v-"+n),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):i&&(l=o?function(){i.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}s.d(e,"a",(function(){return r}))},18:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue-typer els-typer"},[s("span",{staticClass:"left"},[t._l(t.numLeftChars,(function(e,r){return s("Char",{key:r,staticClass:"custom typed",attrs:{val:t.currentTextArray[e-1]}})})),t._v(" "),s("Caret",{class:t.caretClasses,attrs:{animation:t.caretAnimation}})],2),t._v(" "),t._l(t.numRightChars,(function(e,r){return s("span",{key:r,staticClass:"right",class:t.rightCharClasses,attrs:{val:t.currentTextArray[t.numLeftChars+e-1]}})}))],2)};r._withStripped=!0;var i=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"caret custom",class:this.animationClass})};i._withStripped=!0;var n={props:{animation:{type:String,default:"blink",validator:t=>/^solid$|^blink$|^smooth$|^phase$|^expand$/.test(t)}},computed:{animationClass(){return"vue-typer-caret-"+this.animation}}},a=s(0),o=Object(a.a)(n,i,[],!1,null,null,null);o.options.__file="packages/lib/typer/src/Caret.vue";var l=o.exports,h=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"char",class:this.classes},[this._v(this._s(this.val))])};h._withStripped=!0;var u={props:{val:{type:String,default:""}},computed:{classes(){return{newline:0===this.val.indexOf("\n")}}}},c=Object(a.a)(u,h,[],!1,null,null,null);c.options.__file="packages/lib/typer/src/Char.vue";var p=c.exports;function d(t){return"number"==typeof t&&!Number.isNaN(t)&&Number.isFinite(t)}function f(t,e){return r=e,d(s=t)&&d(r)&&s<=r?(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t):-1;var s,r}function y(t,e,s){if(e===s)return;const r=t[e];t[e]=t[s],t[s]=r}const x="idle",m="typing",T="erasing",v="complete",C={BACKSPACE:"backspace",SELECT_BACK:"select-back",SELECT_ALL:"select-all",CLEAR:"clear"};var g={name:"els-typer",components:{Caret:l,Char:p},props:{text:{type:[String,Array],required:!0,validator:t=>"string"==typeof t?t.length>0:t.every(t=>"string"==typeof t&&t.length>0)},repeat:{type:Number,default:1/0,validator:t=>t>=0},shuffle:{type:Boolean,default:!1},initialAction:{type:String,default:m,validator:t=>!!t.match(`^${m}|${T}$`)},preTypeDelay:{type:Number,default:70,validator:t=>t>=0},typeDelay:{type:Number,default:70,validator:t=>t>=0},preEraseDelay:{type:Number,default:2e3,validator:t=>t>=0},eraseDelay:{type:Number,default:250,validator:t=>t>=0},eraseStyle:{type:String,default:C.SELECT_ALL,validator:t=>Object.keys(C).some(e=>C[e]===t)},eraseOnComplete:{type:Boolean,default:!1},caretAnimation:String},data:()=>({state:x,nextState:null,spool:[],spoolIndex:-1,previousTextIndex:-1,currentTextIndex:-1,repeatCounter:0,actionTimeout:0,actionInterval:0}),computed:{caretClasses(){const t=this.state===x;return{idle:t,"pre-type":t&&this.nextState===m,"pre-erase":t&&this.nextState===T,typing:this.state===m,selecting:this.state===T&&this.isSelectionBasedEraseStyle,erasing:this.state===T&&!this.isSelectionBasedEraseStyle,complete:this.state===v}},rightCharClasses(){return{selected:this.state===T&&this.isSelectionBasedEraseStyle,erased:this.state!==T||this.state===T&&!this.isSelectionBasedEraseStyle}},isSelectionBasedEraseStyle(){return!!this.eraseStyle.match(`^${C.SELECT_BACK}|${C.SELECT_ALL}$`)},isEraseAllStyle(){return!!this.eraseStyle.match(`^${C.CLEAR}|${C.SELECT_ALL}$`)},isDoneTyping(){return this.currentTextIndex>=this.currentTextLength},isDoneErasing(){return this.isSelectionBasedEraseStyle?this.currentTextIndex<=0&&this.previousTextIndex<=0:this.currentTextIndex<=0},onLastWord(){return this.spoolIndex===this.spool.length-1},shouldRepeat(){return this.repeatCounter<this.repeat},currentText(){return this.spoolIndex>=0&&this.spoolIndex<this.spool.length?this.spool[this.spoolIndex]:""},currentTextArray(){return console.log(this.currentText.split("")),this.currentText.split("")},currentTextLength(){return this.currentTextArray.length},numLeftChars(){return this.currentTextIndex<0?0:this.currentTextIndex},numRightChars(){return this.currentTextLength-this.numLeftChars}},mounted(){this.init()},beforeDestroy(){this.cancelCurrentAction()},methods:{init(){if("string"==typeof this.text)this.spool=[this.text];else{let t=this.text.slice();t=t.filter(t=>t.length>0),this.spool=t}this.repeatCounter=0,this.resetSpool(),this.initialAction===m?this.startTyping():this.initialAction===T&&(this.moveCaretToEnd(),this.onTyped())},reset(){this.cancelCurrentAction(),this.init()},resetSpool(){this.spoolIndex=0,this.shuffle&&this.spool.length>1&&(t=>{if(t instanceof Array)for(let e=t.length-1;e>0;e--){y(t,e,f(0,e))}})(this.spool)},cancelCurrentAction(){this.actionInterval&&(clearInterval(this.actionInterval),this.actionInterval=0),this.actionTimeout&&(clearTimeout(this.actionTimeout),this.actionTimeout=0)},shiftCaret(t){this.previousTextIndex=this.currentTextIndex;const e=this.currentTextIndex+t;this.currentTextIndex=Math.min(Math.max(e,0),this.currentTextLength)},moveCaretToStart(){this.previousTextIndex=this.currentTextIndex,this.currentTextIndex=0},moveCaretToEnd(){this.previousTextIndex=this.currentTextIndex,this.currentTextIndex=this.currentTextLength},typeStep(){if(!this.isDoneTyping){this.shiftCaret(1);const t=this.previousTextIndex,e=this.currentTextArray[t];this.$emit("typed-char",e,t)}this.isDoneTyping&&(this.cancelCurrentAction(),this.$nextTick(this.onTyped))},eraseStep(){this.isDoneErasing||(this.isEraseAllStyle?this.moveCaretToStart():this.shiftCaret(-1)),this.isDoneErasing&&(this.cancelCurrentAction(),this.$nextTick(this.onErased))},startTyping(){this.actionTimeout||this.actionInterval||(this.moveCaretToStart(),this.state=x,this.nextState=m,this.actionTimeout=setTimeout(()=>{this.state=m,this.typeStep(),this.isDoneTyping||(this.actionInterval=setInterval(this.typeStep,this.typeDelay))},this.preTypeDelay))},startErasing(){this.actionTimeout||this.actionInterval||(this.moveCaretToEnd(),this.state=x,this.nextState=T,this.actionTimeout=setTimeout(()=>{this.state=T,this.eraseStep(),this.isDoneErasing||(this.actionInterval=setInterval(this.eraseStep,this.eraseDelay))},this.preEraseDelay))},onTyped(){this.$emit("typed",this.currentText),this.onLastWord?this.eraseOnComplete||this.shouldRepeat?this.startErasing():this.onComplete():this.startErasing()},onErased(){this.$emit("erased",this.currentText),this.onLastWord?this.shouldRepeat?(this.repeatCounter++,this.resetSpool(),this.startTyping()):this.onComplete():(this.spoolIndex++,this.startTyping())},onComplete(){this.state=v,this.nextState=null,this.$emit("completed")},shallowEquals(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}},watch:{text(t,e){t===e||this.shallowEquals(t,e)||this.reset()},repeat(){this.reset()},shuffle(){this.reset()}}},S=Object(a.a)(g,r,[],!1,null,null,null);S.options.__file="packages/lib/typer/src/main.vue";var _=S.exports;_.install=function(t){t.component(_.name,_)};e.default=_}})}));